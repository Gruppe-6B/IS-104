<!DOCTYPE html>
<html lang="en">
<head>
    <link rel="stylesheet" href="style.css">
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>VINK - Profil</title>

    <!-- Font Awesome - kun bruk til ikoner -->
    <script src="https://kit.fontawesome.com/4f5d540837.js" crossorigin="anonymous"></script>
    <!-- Script som innholder noen konstante variabler som vi bruker på flere sider -->
    <script src="script.js" type="text/javascript"></script>
</head>


<body>
    <div class="container">
        
        <img src="img/247103202_1038603346966777_4749167084376452329_n.jpg" width="100px;">
            
        
        <a href="Index.html" style="position: absolute; left:16px; top: 10px;"><i class="fa fa-sign-out-alt"></i> Logg ut</a>
        <div class="hvitBoks">
            <div class="brukerIkon" >
                <i class="fa fa-user" style="color: cadetblue"></i>
            </div>
            <h3 class="font" id="velkommen"></h3>
            <div id="ikoner" class="ikonerProfil">

            </div>

            <div id="bio" class="tekstBoks">

            </div>
        </div>

        <button id="finnVenner" class="button button-dark" >FINN VENNER!</button>

        <div class="navbar">
            <!--Interesser og medfølgende ikoner fra FontAwesome-->
            <a class="aktivNav" href="Profil.html"><i class="fas fa-user"><br>Profil</i></a>
            <a><i class="fas fa-users"><br>Match pref.</i></a>
            <a><i class="fas fa-bell"><br>Varslinger</i></a>
            <a><i class="fas fa-comment-alt"><br>Meldinger</i></a>
            <a><i class="fas fa-user-cog"><br>Innstillinger</i></a>
        </div>
    </div>


    <script>

        let ikonerContainer = document.getElementById("ikoner");


        const bruker = JSON.parse(localStorage.getItem("bruker"));
        console.log(bruker);


        //for hver interesse, generer ikon
        for (let i = 0; i < bruker.interesser.length; i++) {
            lagIkon(bruker.interesser[i]);
        }


        //Genererer en rad med input og tekst basert på listen over spørsmål ("spm")
        function lagIkon(x) {
            let item = interesser.filter(function(value, index, arr) {
                return value[0] === x;
            })[0];
            let div = document.createElement('div');
            div.classList.add("ikon","tooltip", "ikonselected", "ikonProfil");


            div.innerHTML = '<i class="fa ' + item[1] + '"></i>';

            ikonerContainer.append(div);

        }


        let velkommen = document.getElementById("velkommen");
        velkommen.innerHTML = bruker.navn;
        let bio = document.getElementById("bio");
        bio.innerHTML = bruker.bio.replace("\n", "<br>");

        let finnVennerButton = document.getElementById("finnVenner");
        finnVennerButton.addEventListener("click", function(e) {
            e.preventDefault();
            window.location.href = "Profiler.html";
        });
    </script>
</body>
</html>